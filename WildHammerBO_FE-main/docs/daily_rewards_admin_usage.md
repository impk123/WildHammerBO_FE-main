# Daily Rewards Admin - คู่มือการใช้งาน

## ภาพรวม
หน้า Daily Rewards Admin เป็นระบบจัดการรางวัลประจำวันสำหรับผู้เล่น โดย Admin สามารถตั้งค่า รางวัลแต่ละวันได้อย่างครบถ้วน

## ฟีเจอร์หลัก

### 1. หน้าหลัก (Dashboard)
- **สถิติรวม**: แสดงจำนวนรางวัลทั้งหมด, รางวัลที่เปิดใช้งาน, จำนวน Tokens รวม, และจำนวนการรับรางวัล
- **การกรองข้อมูล**: สามารถกรองตามสถานะ (เปิด/ปิด) และหมายเลขวัน
- **ตารางรางวัล**: แสดงรายการรางวัลทั้งหมดพร้อมข้อมูลครบถ้วน

### 2. การจัดการรางวัล

#### เพิ่มรางวัลใหม่
1. คลิกปุ่ม "เพิ่มรางวัล"
2. กรอกข้อมูล:
   - **หมายเลขวัน**: วันที่ของรางวัล (1-30)
   - **Tokens**: จำนวน tokens ที่จะให้
   - **Reward Items**: รายการ items ในรูปแบบ JSON
   - **Reward Equipment**: รายการ equipment ในรูปแบบ JSON
   - **สถานะ**: เปิด/ปิดใช้งาน
3. คลิก "บันทึก"

#### แก้ไขรางวัล
1. คลิก "แก้ไข" ในแถวของรางวัลที่ต้องการ
2. แก้ไขข้อมูลตามต้องการ
3. คลิก "บันทึก"

#### ลบรางวัล
1. คลิก "ลบ" ในแถวของรางวัลที่ต้องการ
2. ยืนยันการลบ

#### เปลี่ยนสถานะ
1. คลิก "เปิด" หรือ "ปิด" ในแถวของรางวัลที่ต้องการ
2. ระบบจะเปลี่ยนสถานะทันที

### 3. การสร้างรางวัลหลายวัน

#### Bulk Create
1. คลิกปุ่ม "สร้างหลายวัน"
2. กรอกข้อมูล:
   - **จำนวนวัน**: จำนวนวันที่ต้องการสร้าง (1-30)
   - **วันที่เริ่มต้น**: วันที่เริ่มต้นของรอบรางวัล
3. คลิก "สร้าง"

#### Copy Rewards
1. คลิกปุ่ม "คัดลอกรางวัล"
2. กรอกข้อมูล:
   - **วันที่เริ่มต้น (จาก)**: วันที่เริ่มต้นของรอบที่ต้องการคัดลอก
   - **วันที่สิ้นสุด (จาก)**: วันที่สิ้นสุดของรอบที่ต้องการคัดลอก
   - **วันที่เริ่มต้น (ไป)**: วันที่เริ่มต้นของรอบใหม่
3. คลิก "คัดลอก"

### 4. การดูประวัติการรับรางวัล

1. คลิกปุ่ม "ดูประวัติการรับรางวัล"
2. ใช้ตัวกรอง:
   - **Role ID**: ID ของผู้เล่น
   - **หมายเลขวัน**: วันที่ของรางวัล
   - **วันที่เริ่มต้น**: วันที่เริ่มต้น
   - **วันที่สิ้นสุด**: วันที่สิ้นสุด
3. คลิก "ค้นหา"

## รูปแบบข้อมูล

### Reward Items Format
```json
[
  {
    "item_id": 1001,
    "quantity": 1000
  },
  {
    "item_id": 1002,
    "quantity": 500
  }
]
```

### Reward Equipment Format
```json
[
  {
    "equipment_id": 2001,
    "quantity": 1
  },
  {
    "equipment_id": 2002,
    "quantity": 1
  }
]
```

## การใช้งาน API

### Admin Routes
- `GET /api/dailyRewards/admin/rewards` - ดึงรายการรางวัลทั้งหมด
- `GET /api/dailyRewards/admin/rewards/:dayNumber` - ดึงรางวัลตามหมายเลขวัน
- `POST /api/dailyRewards/admin/rewards` - สร้างรางวัลใหม่
- `PUT /api/dailyRewards/admin/rewards/:dayNumber` - อัปเดตรางวัล
- `DELETE /api/dailyRewards/admin/rewards/:dayNumber` - ลบรางวัล
- `PATCH /api/dailyRewards/admin/rewards/:dayNumber/toggle` - เปลี่ยนสถานะ
- `POST /api/dailyRewards/admin/rewards/bulk-create` - สร้างรางวัลหลายวัน
- `POST /api/dailyRewards/admin/rewards/copy` - คัดลอกรางวัล
- `GET /api/dailyRewards/admin/statistics` - ดึงสถิติ
- `GET /api/dailyRewards/admin/claims` - ดึงประวัติการรับรางวัล

### Client Routes
- `POST /api/dailyRewards/client/progress` - ดึงความคืบหน้าผู้เล่น
- `POST /api/dailyRewards/client/claim` - รับรางวัล
- `POST /api/dailyRewards/client/history` - ดึงประวัติการรับรางวัลของผู้เล่น

### Public Routes
- `GET /api/dailyRewards/public/rewards` - ดึงรางวัลที่เปิดใช้งาน

## ข้อควรระวัง

1. **การตั้งค่ารางวัล**: ควรตั้งค่ารางวัลให้เหมาะสมกับเกม
2. **การคัดลอก**: ตรวจสอบวันที่ให้ถูกต้องก่อนคัดลอก
3. **การลบ**: การลบรางวัลจะไม่สามารถกู้คืนได้
4. **JSON Format**: ตรวจสอบรูปแบบ JSON ให้ถูกต้องก่อนบันทึก

## การแก้ไขปัญหา

### ปัญหาที่พบบ่อย

1. **JSON Format ไม่ถูกต้อง**
   - ตรวจสอบรูปแบบ JSON ให้ถูกต้อง
   - ใช้ JSON validator เพื่อตรวจสอบ

2. **ไม่สามารถบันทึกได้**
   - ตรวจสอบการเชื่อมต่อ API
   - ตรวจสอบสิทธิ์การเข้าถึง

3. **ข้อมูลไม่แสดง**
   - รีเฟรชหน้าเว็บ
   - ตรวจสอบการเชื่อมต่อ API

## การเข้าถึง

หน้า Daily Rewards Admin สามารถเข้าถึงได้ผ่าน:
- URL: `/daily-rewards`
- Navigation Menu: "Daily Rewards"

## ข้อกำหนดระบบ

- ต้องมี Admin Token ที่ถูกต้อง
- ต้องมีสิทธิ์เข้าถึงระบบ Admin
- ต้องเชื่อมต่อกับ API Backend ได้
